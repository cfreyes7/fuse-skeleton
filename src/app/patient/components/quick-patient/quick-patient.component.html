<div fxLayout="column" fxFill>
  <div fxFlex="100" class="pl-12 pr-12" style="overflow-y: auto;" fusePerfectScrollbar>
    <mat-toolbar>
      New Patient
    </mat-toolbar>
    <form [formGroup]="patientForm" novalidate id="patientForm" (ngSubmit)="onSubmit()" #form="ngForm">
      <mat-tab-group mat-stretch-tabs dynamicHeight [color]="form.invalid && form.submitted ? 'warn' : 'primary'">
        <mat-tab>
          <ng-template mat-tab-label>General</ng-template>
          <flox-general-info [parentForm]="patientForm"></flox-general-info>
          <flox-insurance [parentForm]="patientForm"></flox-insurance>
        </mat-tab>
        <mat-tab>
          <ng-template mat-tab-label>Employment</ng-template>
          <flox-employment [parentForm]="patientForm"></flox-employment>
        </mat-tab>
        <mat-tab>
          <ng-template mat-tab-label>Registration</ng-template>
          <flox-registration [parentForm]="patientForm"></flox-registration>
        </mat-tab>
      </mat-tab-group>
    </form>
  </div>
  <mat-toolbar fxLayout="row" fxLayoutAlign="center center" class="bottom-bar">
    <button mat-button (click)="close()" type="button">Cancel</button>
    <button mat-button color="primary" form="patientForm" type="submit">Create Patient</button>
  </mat-toolbar>
</div>
